{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Transport/MockTransport.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Prop/Router.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Prop/MockProps.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Accessibility/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Account/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Advertising/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Device/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Discovery/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Lifecycle/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Localization/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/SecondScreen/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Platform/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Transport/queue.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Settings/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Transport/LegacyTransport.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Transport/WebsocketTransport.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Results/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Transport/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Events/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Accessibility/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Advertising/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Authentication/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Capabilities/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Device/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/ProvideManager/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Discovery/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Lifecycle/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Localization/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/SecondScreen/index.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/firebolt.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Authentication/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Capabilities/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Keyboard/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Metrics/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Parameters/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/Profile/defaults.mjs","webpack://deeplinks/./node_modules/@firebolt-js/sdk/dist/lib/SecureStorage/defaults.mjs","webpack://deeplinks/./index.js"],"sourcesContent":["/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nconst win = typeof window !== 'undefined' ? window : {}\n\nlet listener\nexport const setMockListener = (func) => {\n  listener = func\n}\n\nlet mock\nconst pending = []\nconst eventMap = {}\n\nlet callback\nlet testHarness\n\nif (win.__firebolt && win.__firebolt.testHarness) {\n  testHarness = win.__firebolt.testHarness\n}\n\nfunction send(message) {\n  console.debug('Sending message to transport: ' + message)\n  let json = JSON.parse(message)\n\n  // handle bulk sends\n  if (Array.isArray(json)) {\n    json.forEach((j) => send(JSON.stringify(j)))\n    return\n  }\n\n  let [module, method] = json.method.split('.')\n\n  if (testHarness && testHarness.onSend) {\n    testHarness.onSend(module, method, json.params, json.id)\n  }\n\n  // store the ID of the first listen for each event\n  if (method.match(/^on[A-Z]/)) {\n    if (json.params.listen) {\n      eventMap[json.id] =\n        module.toLowerCase() + '.' + method[2].toLowerCase() + method.substr(3)\n    } else {\n      Object.keys(eventMap).forEach((key) => {\n        if (\n          eventMap[key] ===\n          module.toLowerCase() +\n            '.' +\n            method[2].toLowerCase() +\n            method.substr(3)\n        ) {\n          delete eventMap[key]\n        }\n      })\n    }\n  }\n\n  if (mock) handle(json)\n  else pending.push(json)\n}\n\nfunction handle(json) {\n  let result\n  try {\n    result = getResult(json.method, json.params)\n  } catch (error) {\n    setTimeout(() =>\n      callback(\n        JSON.stringify({\n          jsonrpc: '2.0',\n          error: {\n            code: -32602,\n            message:\n              'Invalid params (this is a mock error from the mock transport layer)',\n          },\n          id: json.id,\n        }),\n      ),\n    )\n  }\n\n  setTimeout(() =>\n    callback(\n      JSON.stringify({\n        jsonrpc: '2.0',\n        result: result,\n        id: json.id,\n      }),\n    ),\n  )\n}\n\nfunction receive(_callback) {\n  callback = _callback\n\n  if (testHarness && typeof testHarness.initialize === 'function') {\n    testHarness.initialize({\n      emit: event,\n      listen: function (...args) {\n        listener(...args)\n      },\n    })\n  }\n}\n\nfunction event(module, event, value) {\n  const listener = Object.entries(eventMap).find(\n    ([k, v]) =>\n      v.toLowerCase() === module.toLowerCase() + '.' + event.toLowerCase(),\n  )\n  if (listener) {\n    let message = JSON.stringify({\n      jsonrpc: '2.0',\n      id: parseInt(listener[0]),\n      result: value,\n    })\n    callback(message)\n  }\n}\n\nfunction dotGrab(obj = {}, key) {\n  const keys = key.split('.')\n  let ref = obj\n  for (let i = 0; i < keys.length; i++) {\n    ref = (Object.entries(ref).find(\n      ([k, v]) => k.toLowerCase() === keys[i].toLowerCase(),\n    ) || [null, {}])[1]\n  }\n  return ref\n}\n\nfunction getResult(method, params) {\n  let api = dotGrab(mock, method)\n\n  if (method.match(/^[a-zA-Z]+\\.on[A-Za-z]+$/)) {\n    api = {\n      event: method,\n      listening: true,\n    }\n  }\n\n  if (typeof api === 'function') {\n    return params == null ? api() : api(params)\n  } else return api\n}\n\nexport function setMockResponses(m) {\n  mock = m\n\n  pending.forEach((json) => handle(json))\n  pending.length = 0\n}\n\nexport default {\n  send: send,\n  receive: receive,\n  event: event,\n}\n","export default function (params, callbackOrValue, contextParameterCount) {\n  const numArgs = params ? Object.values(params).length : 0\n\n  if (numArgs === contextParameterCount && callbackOrValue === undefined) {\n    // getter\n    return 'getter'\n  } else if (\n    numArgs === contextParameterCount &&\n    typeof callbackOrValue === 'function'\n  ) {\n    // subscribe\n    return 'subscriber'\n  } else if (numArgs === 0 && typeof callbackOrValue === 'function') {\n    // for x-subscriber-type: global\n    return 'subscriber'\n  } else if (\n    numArgs === contextParameterCount &&\n    callbackOrValue !== undefined\n  ) {\n    // setter\n    return 'setter'\n  }\n\n  return null\n}\n","import Mock from '../Transport/MockTransport.mjs'\nimport router from './Router.mjs'\n\nconst mocks = {}\n\nfunction mock(module, method, params, value, contextParameterCount, def) {\n  const type = router(params, value, contextParameterCount)\n  const hash = contextParameterCount\n    ? '.' +\n      Object.keys(params)\n        .filter((key) => key !== 'value')\n        .map((key) => params[key])\n        .join('.')\n    : ''\n  const key = `${module}.${method}${hash}`\n\n  if (type === 'getter') {\n    const value = mocks.hasOwnProperty(key) ? mocks[key] : def\n    return value\n  } else if (type === 'subscriber') {\n  } else if (type === 'setter') {\n    mocks[key] = value\n    Mock.event(module, `${method}Changed`, { value })\n    return null\n  }\n}\n\nexport default {\n  mock: mock,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  closedCaptions: {\n    enabled: true,\n    styles: {\n      fontFamily: 'monospaced_sanserif',\n      fontSize: 1,\n      fontColor: '#ffffff',\n      fontEdge: 'none',\n      fontEdgeColor: '#7F7F7F',\n      fontOpacity: 100,\n      backgroundColor: '#000000',\n      backgroundOpacity: 100,\n      textAlign: 'center',\n      textAlignVertical: 'middle',\n      windowColor: 'white',\n      windowOpacity: 50,\n    },\n    preferredLanguages: ['eng', 'spa'],\n  },\n  closedCaptionsSettings: function (params) {\n    return MockProps.mock(\n      'Accessibility',\n      'closedCaptionsSettings',\n      params,\n      undefined,\n      0,\n      {\n        enabled: true,\n        styles: {\n          fontFamily: 'monospaced_sanserif',\n          fontSize: 1,\n          fontColor: '#ffffff',\n          fontEdge: 'none',\n          fontEdgeColor: '#7F7F7F',\n          fontOpacity: 100,\n          backgroundColor: '#000000',\n          backgroundOpacity: 100,\n          textAlign: 'center',\n          textAlignVertical: 'middle',\n          windowColor: 'white',\n          windowOpacity: 50,\n        },\n        preferredLanguages: ['eng', 'spa'],\n      },\n    )\n  },\n  highContrastUI: function (params) {\n    return MockProps.mock(\n      'Accessibility',\n      'highContrastUI',\n      params,\n      undefined,\n      0,\n      true,\n    )\n  },\n  voiceGuidance: { enabled: true, navigationHints: true, rate: 1 },\n  voiceGuidanceSettings: function (params) {\n    return MockProps.mock(\n      'Accessibility',\n      'voiceGuidanceSettings',\n      params,\n      undefined,\n      0,\n      { enabled: true, navigationHints: true, rate: 1 },\n    )\n  },\n  audioDescriptionSettings: function (params) {\n    return MockProps.mock(\n      'Accessibility',\n      'audioDescriptionSettings',\n      params,\n      undefined,\n      0,\n      { enabled: true },\n    )\n  },\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  id: function (params) {\n    return MockProps.mock('Account', 'id', params, undefined, 0, '123')\n  },\n  uid: function (params) {\n    return MockProps.mock(\n      'Account',\n      'uid',\n      params,\n      undefined,\n      0,\n      'ee6723b8-7ab3-462c-8d93-dbf61227998e',\n    )\n  },\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  config: {\n    adServerUrl: 'https://demo.v.fwmrm.net/ad/p/1',\n    adServerUrlTemplate:\n      'https://demo.v.fwmrm.net/ad/p/1?flag=+sltp+exvt+slcb+emcr+amcb+aeti&prof=12345:caf_allinone_profile &nw=12345&mode=live&vdur=123&caid=a110523018&asnw=372464&csid=gmott_ios_tablet_watch_live_ESPNU&ssnw=372464&vip=198.205.92.1&resp=vmap1&metr=1031&pvrn=12345&vprn=12345&vcid=1X0Ce7L3xRWlTeNhc7br8Q%3D%3D',\n    adNetworkId: '519178',\n    adProfileId: '12345:caf_allinone_profile',\n    adSiteSectionId: 'caf_allinone_profile_section',\n    adOptOut: true,\n    privacyData:\n      'ew0KICAicGR0IjogImdkcDp2MSIsDQogICJ1c19wcml2YWN5IjogIjEtTi0iLA0KICAibG10IjogIjEiIA0KfQ0K',\n    ifaValue: '01234567-89AB-CDEF-GH01-23456789ABCD',\n    ifa: 'ewogICJ2YWx1ZSI6ICIwMTIzNDU2Ny04OUFCLUNERUYtR0gwMS0yMzQ1Njc4OUFCQ0QiLAogICJpZmFfdHlwZSI6ICJzc3BpZCIsCiAgImxtdCI6ICIwIgp9Cg==',\n    appName: 'FutureToday',\n    appBundleId: 'FutureToday.comcast',\n    distributorAppId: '1001',\n    deviceAdAttributes:\n      'ewogICJib0F0dHJpYnV0ZXNGb3JSZXZTaGFyZUlkIjogIjEyMzQiCn0=',\n    coppa: 0,\n    authenticationEntity: '60f72475281cfba3852413bd53e957f6',\n  },\n  policy: function (params) {\n    return MockProps.mock('Advertising', 'policy', params, undefined, 0, {\n      skipRestriction: 'adsUnwatched',\n      limitAdTracking: false,\n    })\n  },\n  advertisingId: {\n    ifa: '01234567-89AB-CDEF-GH01-23456789ABCD',\n    ifa_type: 'sspid',\n    lmt: '0',\n  },\n  deviceAttributes: {},\n  appBundleId: 'app.operator',\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  id: function (params) {\n    return MockProps.mock('Device', 'id', params, undefined, 0, '123')\n  },\n  distributor: function (params) {\n    return MockProps.mock(\n      'Device',\n      'distributor',\n      params,\n      undefined,\n      0,\n      'Company',\n    )\n  },\n  platform: function (params) {\n    return MockProps.mock('Device', 'platform', params, undefined, 0, 'WPE')\n  },\n  uid: function (params) {\n    return MockProps.mock(\n      'Device',\n      'uid',\n      params,\n      undefined,\n      0,\n      'ee6723b8-7ab3-462c-8d93-dbf61227998e',\n    )\n  },\n  type: function (params) {\n    return MockProps.mock('Device', 'type', params, undefined, 0, 'STB')\n  },\n  model: function (params) {\n    return MockProps.mock('Device', 'model', params, undefined, 0, 'xi6')\n  },\n  sku: function (params) {\n    return MockProps.mock('Device', 'sku', params, undefined, 0, 'AX061AEI')\n  },\n  make: function (params) {\n    return MockProps.mock('Device', 'make', params, undefined, 0, 'Arris')\n  },\n  version: function (params) {\n    return MockProps.mock('Device', 'version', params, undefined, 0, {\n      sdk: { major: 0, minor: 8, patch: 0, readable: 'Firebolt JS SDK v0.8.0' },\n      api: { major: 0, minor: 8, patch: 0, readable: 'Firebolt API v0.8.0' },\n      firmware: {\n        major: 1,\n        minor: 2,\n        patch: 3,\n        readable: 'Device Firmware v1.2.3',\n      },\n      os: { major: 0, minor: 1, patch: 0, readable: 'Firebolt OS v0.1.0' },\n      debug: 'Non-parsable build info for error logging only.',\n    })\n  },\n  hdcp: function (params) {\n    return MockProps.mock('Device', 'hdcp', params, undefined, 0, {\n      'hdcp1.4': true,\n      'hdcp2.2': true,\n    })\n  },\n  hdr: function (params) {\n    return MockProps.mock('Device', 'hdr', params, undefined, 0, {\n      hdr10: true,\n      hdr10Plus: true,\n      dolbyVision: true,\n      hlg: true,\n    })\n  },\n  audio: function (params) {\n    return MockProps.mock('Device', 'audio', params, undefined, 0, {\n      stereo: true,\n      'dolbyDigital5.1': true,\n      'dolbyDigital5.1+': true,\n      dolbyAtmos: true,\n    })\n  },\n  screenResolution: function (params) {\n    return MockProps.mock(\n      'Device',\n      'screenResolution',\n      params,\n      undefined,\n      0,\n      [1920, 1080],\n    )\n  },\n  videoResolution: function (params) {\n    return MockProps.mock(\n      'Device',\n      'videoResolution',\n      params,\n      undefined,\n      0,\n      [1920, 1080],\n    )\n  },\n  name: function (params) {\n    return MockProps.mock('Device', 'name', params, undefined, 0, 'Living Room')\n  },\n  network: function (params) {\n    return MockProps.mock('Device', 'network', params, undefined, 0, {\n      state: 'connected',\n      type: 'wifi',\n    })\n  },\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  policy: function (params) {\n    return MockProps.mock('Discovery', 'policy', params, undefined, 0, {\n      enableRecommendations: true,\n      shareWatchHistory: true,\n      rememberWatchedPrograms: true,\n    })\n  },\n  entityInfo: true,\n  purchasedContent: true,\n  watched: true,\n  watchNext: true,\n  entitlements: true,\n  contentAccess: null,\n  clearContentAccess: null,\n  launch: true,\n  signIn: true,\n  signOut: true,\n  userInterest: null,\n  userInterestResponse: null,\n  userInterestError: null,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport MockTransport from '../Transport/MockTransport.mjs'\n\nlet inactive = { state: 'inactive', previous: 'initializing' }\nlet foreground = { state: 'foreground', previous: 'inactive' }\nlet background = { state: 'background', previous: 'foreground' }\nlet suspended = { state: 'suspended', previous: 'inactive' }\nlet unloading = { state: 'unloading', previous: 'inactive' }\n\nconst emit = (value) => {\n  MockTransport.event('Lifecycle', value.state, value)\n}\n\nconst win = typeof window !== 'undefined' ? window : {}\nconst automation = win.__firebolt ? !!win.__firebolt.automation : false\n\nexport default {\n  ready: function () {\n    inactive.previous = 'initializing'\n    setTimeout(() => emit(inactive), automation ? 1 : 500)\n    foreground.previous = 'inactive'\n    setTimeout(() => emit(foreground), automation ? 2 : 1000)\n  },\n\n  close: function (params) {\n    let reason = params.reason\n    if (reason === 'remoteButton') {\n      inactive.previous = 'foreground'\n      setTimeout(() => emit(inactive), automation ? 1 : 500)\n    } else if (['userExit', 'error'].includes(reason)) {\n      inactive.previous = 'foreground'\n      unloading.previous = 'inactive'\n      setTimeout(() => emit(inactive), automation ? 1 : 500)\n      setTimeout(() => emit(unloading), automation ? 2 : 1000)\n    } else {\n      throw 'Invalid close reason'\n    }\n  },\n\n  finished: function () {\n    if (win.location) win.location.href = 'about:blank'\n  },\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  locality: function (params) {\n    return MockProps.mock(\n      'Localization',\n      'locality',\n      params,\n      undefined,\n      0,\n      'Philadelphia',\n    )\n  },\n  postalCode: function (params) {\n    return MockProps.mock(\n      'Localization',\n      'postalCode',\n      params,\n      undefined,\n      0,\n      '19103',\n    )\n  },\n  countryCode: function (params) {\n    return MockProps.mock(\n      'Localization',\n      'countryCode',\n      params,\n      undefined,\n      0,\n      'US',\n    )\n  },\n  language: function (params) {\n    return MockProps.mock(\n      'Localization',\n      'language',\n      params,\n      undefined,\n      0,\n      'en',\n    )\n  },\n  preferredAudioLanguages: function (params) {\n    return MockProps.mock(\n      'Localization',\n      'preferredAudioLanguages',\n      params,\n      undefined,\n      0,\n      ['spa', 'eng'],\n    )\n  },\n  locale: function (params) {\n    return MockProps.mock(\n      'Localization',\n      'locale',\n      params,\n      undefined,\n      0,\n      'en-US',\n    )\n  },\n  latlon: [39.9549, 75.1699],\n  additionalInfo: {},\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  protocols: { 'dial1.7': true },\n  device: 'device-id',\n  friendlyName: function (params) {\n    return MockProps.mock(\n      'SecondScreen',\n      'friendlyName',\n      params,\n      undefined,\n      0,\n      'Living Room',\n    )\n  },\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport accessibility from '../Accessibility/defaults.mjs'\nimport device from '../Device/defaults.mjs'\nimport localization from '../Localization/defaults.mjs'\n\nexport default {\n  localization: localization,\n  device: device,\n  accessibility: accessibility,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport default class Queue {\n  constructor() {\n    this._callback = null\n    this._queue = []\n  }\n\n  send(json) {\n    this._queue.push(json)\n  }\n\n  receive(_callback) {\n    this._callback = _callback\n  }\n\n  flush(transport) {\n    transport.receive(this._callback)\n    this._queue.forEach((item) => transport.send(item))\n  }\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nconst settings = {}\nconst subscribers = {}\n\nexport const initSettings = (appSettings, platformSettings) => {\n  settings['app'] = appSettings\n  settings['platform'] = {\n    logLevel: 'WARN',\n    ...platformSettings,\n  }\n  settings['user'] = {}\n}\n\nconst publish = (key, value) => {\n  subscribers[key] &&\n    subscribers[key].forEach((subscriber) => subscriber(value))\n}\n\nconst dotGrab = (obj = {}, key) => {\n  const keys = key.split('.')\n  for (let i = 0; i < keys.length; i++) {\n    obj = obj[keys[i]] = obj[keys[i]] !== undefined ? obj[keys[i]] : {}\n  }\n  return typeof obj === 'object'\n    ? Object.keys(obj).length\n      ? obj\n      : undefined\n    : obj\n}\n\nexport default {\n  get(type, key, fallback = undefined) {\n    const val = dotGrab(settings[type], key)\n    return val !== undefined ? val : fallback\n  },\n  has(type, key) {\n    return !!this.get(type, key)\n  },\n  set(key, value) {\n    settings['user'][key] = value\n    publish(key, value)\n  },\n  subscribe(key, callback) {\n    subscribers[key] = subscribers[key] || []\n    subscribers[key].push(callback)\n  },\n  unsubscribe(key, callback) {\n    if (callback) {\n      const index =\n        subscribers[key] && subscribers[key].findIndex((cb) => cb === callback)\n      index > -1 && subscribers[key].splice(index, 1)\n    } else {\n      if (key in subscribers) {\n        subscribers[key] = []\n      }\n    }\n  },\n  clearSubscribers() {\n    for (const key of Object.getOwnPropertyNames(subscribers)) {\n      delete subscribers[key]\n    }\n  },\n  setLogLevel(logLevel) {\n    settings.platform.logLevel = logLevel\n  },\n  getLogLevel() {\n    return settings.platform.logLevel\n  },\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nconst win = typeof window !== 'undefined' ? window : {}\n\nexport default class LegacyTransport {\n  constructor(bridge) {\n    this.bridge = bridge\n  }\n\n  send(msg) {\n    this.bridge.JSMessageChanged(msg, () => {})\n  }\n\n  receive(callback) {\n    win.$badger = win.$badger || {}\n    /** Hold on to real $badger callback and event methods so they can be called for non-jsonrpc messages */\n    const badgerCallback = win.$badger.callback\n      ? win.$badger.callback.bind(win.$badger)\n      : null\n    const badgerEvent = win.$badger.event\n      ? win.$badger.event.bind(win.$badger)\n      : null\n    win.$badger.callback = (pid, success, json) => {\n      if (json.jsonrpc) {\n        callback(JSON.stringify(json))\n      } else if (badgerCallback) {\n        badgerCallback(pid, success, json)\n      }\n    }\n    win.$badger.event = (handlerId, json) => {\n      if (json.jsonrpc) {\n        callback(JSON.stringify(json))\n      } else if (badgerEvent) {\n        badgerEvent(handlerId, json)\n      }\n    }\n  }\n\n  static isLegacy(transport) {\n    return (\n      LegacyTransport.isXREProxy(transport) ||\n      (transport.send === undefined && transport.JSMessageChanged)\n    )\n  }\n\n  static isXREProxy(transport) {\n    /** Set top boxes running XRE has a \"Proxy\" transport\n     * native object that intercepts ALL method calls, so we\n     * cannot test for transport.send existence because it will return true\n     * even though it actually is not supported. Check if some obscure method\n     * name like \"proxyObjectTest\" is defined. If it is then we know we are using a\n     * Proxy object and thus is legacy transport.\n     */\n    return transport.proxyObjectTest !== undefined\n  }\n}\n","const MAX_QUEUED_MESSAGES = 100\n\nexport default class WebsocketTransport {\n  constructor(endpoint) {\n    this._endpoint = endpoint\n    this._ws = null\n    this._connected = false\n    this._queue = []\n    this._callbacks = []\n  }\n\n  send(msg) {\n    this._connect()\n\n    if (this._connected) {\n      this._ws.send(msg)\n    } else {\n      if (this._queue.length < MAX_QUEUED_MESSAGES) {\n        this._queue.push(msg)\n      }\n    }\n  }\n\n  receive(callback) {\n    if (!callback) return\n    this._connect()\n    this._callbacks.push(callback)\n  }\n\n  _notifyCallbacks(message) {\n    for (let i = 0; i < this._callbacks.length; i++) {\n      setTimeout(() => this._callbacks[i](message), 1)\n    }\n  }\n\n  _connect() {\n    if (this._ws) return\n    this._ws = new WebSocket(this._endpoint, ['jsonrpc'])\n    this._ws.addEventListener('message', (message) => {\n      this._notifyCallbacks(message.data)\n    })\n    this._ws.addEventListener('error', (message) => {})\n    this._ws.addEventListener('close', (message) => {\n      this._ws = null\n      this._connected = false\n    })\n    this._ws.addEventListener('open', (message) => {\n      this._connected = true\n      for (let i = 0; i < this._queue.length; i++) {\n        this._ws.send(this._queue[i])\n      }\n      this._queue = []\n    })\n  }\n}\n","import Transport from '../Transport/index.mjs'\n\n/*\nmethods = Map<string, {\n    x-this-param: 'accessory',\n    x-additional-params: ['timeout'],\n    x-method: 'Accessory.pair'\n}>\n*/\n\nfunction transform(result, transforms) {\n  if (!transforms || !transforms.methods) {\n    return result\n  }\n\n  const { methods } = transforms\n  const transformed = JSON.parse(JSON.stringify(result))\n\n  Object.keys(methods).forEach((key) => {\n    const method_info = methods[key]\n    const rpc_method = method_info['x-method']\n    const [module, method] = rpc_method.split('.')\n    const params = {}\n    params[method_info['x-this-param']] = transformed\n    transformed[key] = (...args) => {\n      // copy the args into the correct RPC param names\n      for (var i = 0; i < args.length; i++) {\n        params[method_info['x-additional-params'][i]] = args[i]\n      }\n      return Transport.send(module.toLowerCase(), method, params)\n    }\n  })\n  return transformed\n}\n\nexport default {\n  transform,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport mock from './MockTransport.mjs'\nimport Queue from './queue.mjs'\nimport Settings, { initSettings } from '../Settings/index.mjs'\nimport LegacyTransport from './LegacyTransport.mjs'\nimport WebsocketTransport from './WebsocketTransport.mjs'\nimport Results from '../Results/index.mjs'\n\nconst LEGACY_TRANSPORT_SERVICE_NAME = 'com.comcast.BridgeObject_1'\nlet moduleInstance = null\n\nconst isEventSuccess = (x) =>\n  x && typeof x.event === 'string' && typeof x.listening === 'boolean'\n\nconst win = typeof window !== 'undefined' ? window : {}\n\nexport default class Transport {\n  constructor() {\n    this._promises = []\n    this._transport = null\n    this._id = 1\n    this._eventEmitters = []\n    this._eventIds = []\n    this._queue = new Queue()\n    this._deprecated = {}\n    this.isMock = false\n  }\n\n  static addEventEmitter(emitter) {\n    Transport.get()._eventEmitters.push(emitter)\n  }\n\n  static registerDeprecatedMethod(module, method, alternative) {\n    Transport.get()._deprecated[\n      module.toLowerCase() + '.' + method.toLowerCase()\n    ] = {\n      alternative: alternative || '',\n    }\n  }\n\n  _endpoint() {\n    if (win.__firebolt && win.__firebolt.endpoint) {\n      return win.__firebolt.endpoint\n    }\n    return null\n  }\n\n  constructTransportLayer() {\n    let transport\n    const endpoint = this._endpoint()\n    if (\n      endpoint &&\n      (endpoint.startsWith('ws://') || endpoint.startsWith('wss://'))\n    ) {\n      transport = new WebsocketTransport(endpoint)\n      transport.receive(this.receiveHandler.bind(this))\n    } else if (\n      typeof win.ServiceManager !== 'undefined' &&\n      win.ServiceManager &&\n      win.ServiceManager.version\n    ) {\n      // Wire up the queue\n      transport = this._queue\n      // get the default bridge service, and flush the queue\n      win.ServiceManager.getServiceForJavaScript(\n        LEGACY_TRANSPORT_SERVICE_NAME,\n        (service) => {\n          if (LegacyTransport.isLegacy(service)) {\n            transport = new LegacyTransport(service)\n          } else {\n            transport = service\n          }\n          this.setTransportLayer(transport)\n        },\n      )\n    } else {\n      this.isMock = true\n      transport = mock\n      transport.receive(this.receiveHandler.bind(this))\n    }\n    return transport\n  }\n\n  setTransportLayer(tl) {\n    this._transport = tl\n    this._queue.flush(tl)\n  }\n\n  static send(module, method, params, transforms) {\n    /** Transport singleton across all SDKs to keep single id map */\n    return Transport.get()._send(module, method, params, transforms)\n  }\n\n  static listen(module, method, params, transforms) {\n    return Transport.get()._sendAndGetId(module, method, params, transforms)\n  }\n\n  _send(module, method, params, transforms) {\n    if (Array.isArray(module) && !method && !params) {\n      return this._batch(module)\n    } else {\n      return this._sendAndGetId(module, method, params, transforms).promise\n    }\n  }\n\n  _sendAndGetId(module, method, params, transforms) {\n    const { promise, json, id } = this._processRequest(\n      module,\n      method,\n      params,\n      transforms,\n    )\n    const msg = JSON.stringify(json)\n    if (Settings.getLogLevel() === 'DEBUG') {\n      console.debug('Sending message to transport: ' + msg)\n    }\n    this._transport.send(msg)\n\n    return { id, promise }\n  }\n\n  _batch(requests) {\n    const results = []\n    const json = []\n\n    requests.forEach(({ module, method, params, transforms }) => {\n      const result = this._processRequest(module, method, params, transforms)\n      results.push({\n        promise: result.promise,\n        id: result.id,\n      })\n      json.push(result.json)\n    })\n\n    const msg = JSON.stringify(json)\n    if (Settings.getLogLevel() === 'DEBUG') {\n      console.debug('Sending message to transport: ' + msg)\n    }\n    this._transport.send(msg)\n\n    return results\n  }\n\n  _processRequest(module, method, params, transforms) {\n    const p = this._addPromiseToQueue(module, method, params, transforms)\n    const json = this._createRequestJSON(module, method, params)\n\n    const result = {\n      promise: p,\n      json: json,\n      id: this._id,\n    }\n\n    this._id++\n\n    return result\n  }\n\n  _createRequestJSON(module, method, params) {\n    return {\n      jsonrpc: '2.0',\n      method: module.toLowerCase() + '.' + method,\n      params: params,\n      id: this._id,\n    }\n  }\n\n  _addPromiseToQueue(module, method, params, transforms) {\n    return new Promise((resolve, reject) => {\n      this._promises[this._id] = {}\n      this._promises[this._id].promise = this\n      this._promises[this._id].resolve = resolve\n      this._promises[this._id].reject = reject\n      this._promises[this._id].transforms = transforms\n\n      const deprecated =\n        this._deprecated[module.toLowerCase() + '.' + method.toLowerCase()]\n      if (deprecated) {\n        console.warn(\n          `WARNING: ${module}.${method}() is deprecated. ` +\n            deprecated.alternative,\n        )\n      }\n\n      // store the ID of the first listen for each event\n      // TODO: what about wild cards?\n      if (method.match(/^on[A-Z]/)) {\n        if (params.listen) {\n          this._eventIds.push(this._id)\n        } else {\n          this._eventIds = this._eventIds.filter((id) => id !== this._id)\n        }\n      }\n    })\n  }\n\n  /**\n   * If we have a global transport, use that. Otherwise, use the module-scoped transport instance.\n   * @returns {Transport}\n   */\n  static get() {\n    /** Set up singleton and initialize it */\n    win.__firebolt = win.__firebolt || {}\n    if (win.__firebolt.transport == null && moduleInstance == null) {\n      const transport = new Transport()\n      transport.init()\n      if (transport.isMock) {\n        /** We should use the mock transport built with the SDK, not a global */\n        moduleInstance = transport\n      } else {\n        win.__firebolt = win.__firebolt || {}\n        win.__firebolt.transport = transport\n      }\n      win.__firebolt.setTransportLayer =\n        transport.setTransportLayer.bind(transport)\n    }\n    return win.__firebolt.transport ? win.__firebolt.transport : moduleInstance\n  }\n\n  receiveHandler(message) {\n    if (Settings.getLogLevel() === 'DEBUG') {\n      console.debug('Received message from transport: ' + message)\n    }\n    const json = JSON.parse(message)\n    const p = this._promises[json.id]\n\n    if (p) {\n      if (json.error) p.reject(json.error)\n      else {\n        // Do any module-specific transforms on the result\n        let result = json.result\n\n        if (p.transforms) {\n          if (Array.isArray(json.result)) {\n            result = result.map((x) => Results.transform(x, p.transforms))\n          } else {\n            result = Results.transform(result, p.transforms)\n          }\n        }\n\n        p.resolve(result)\n      }\n      delete this._promises[json.id]\n    }\n\n    // event responses need to be emitted, even after the listen call is resolved\n    if (this._eventIds.includes(json.id) && !isEventSuccess(json.result)) {\n      this._eventEmitters.forEach((emit) => {\n        emit(json.id, json.result)\n      })\n    }\n  }\n\n  init() {\n    initSettings({}, { log: true })\n    this._queue.receive(this.receiveHandler.bind(this))\n    if (win.__firebolt) {\n      if (win.__firebolt.mockTransportLayer === true) {\n        this.isMock = true\n        this.setTransportLayer(mock)\n      } else if (win.__firebolt.getTransportLayer) {\n        this.setTransportLayer(win.__firebolt.getTransportLayer())\n      }\n    }\n    if (this._transport == null) {\n      this._transport = this.constructTransportLayer()\n    }\n  }\n}\nwin.__firebolt = win.__firebolt || {}\nwin.__firebolt.setTransportLayer = (transport) => {\n  Transport.get().setTransportLayer(transport)\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Transport from '../Transport/index.mjs'\nimport { setMockListener } from '../Transport/MockTransport.mjs'\n\nlet listenerId = 0\n\n// holds two maps of ${module}.${event} => listenerId, e.g. callback method id\n// note that one callback can listen to multiple events, e.g. 'discovery.*'\n// internal is only available via a private export that we use to ensure our modules know about\n// events before the apps using the SDK (otherwise state errors can happen)\nconst listeners = {\n  internal: {},\n  external: {},\n\n  // Several convenience functions below for checking both internal & external lists w/ one operation\n\n  // gets a merge list of ids for a single event key\n  get: (key) => {\n    return Object.assign(\n      Object.assign({}, listeners.internal[key]),\n      listeners.external[key],\n    )\n  },\n  // adds a callback/id to a key on the external list only\n  set: (key, id, value) => {\n    listeners.external[key] = listeners.external[key] || {}\n    listeners.external[key][id] = value\n  },\n  // adds a callback/id to a key on the internal list only\n  setInternal: (key, id, value) => {\n    listeners.internal[key] = listeners.internal[key] || {}\n    listeners.internal[key][id] = value\n  },\n  // finds the key for an id in either list (it can only be in one)\n  find: (id) => {\n    let key\n    ;[listeners.internal, listeners.external].find((group) => {\n      key = Object.keys(group).find((key) => group[key][id])\n      if (key) return true\n    })\n    return key\n  },\n  // removes an id from either list\n  remove: (id) => {\n    ;[listeners.internal, listeners.external].forEach((group) => {\n      Object.keys(group).forEach((key) => {\n        if (group[key] && group[key][id]) {\n          delete group[key][id]\n          if (Object.values(group[key]).length === 0) {\n            delete group[key]\n          }\n        }\n      })\n    })\n  },\n  // removes a key from both lists if _internal is true, otherwise only the external list\n  removeKey: (key, _internal = false) => {\n    _internal && listeners.internal[key] && delete listeners.internal[key]\n    listeners.external[key] && delete listeners.external[key]\n  },\n  // gives a list of all keys\n  keys: () => {\n    return Array.from(\n      new Set(\n        Object.keys(listeners.internal).concat(Object.keys(listeners.external)),\n      ),\n    )\n  },\n  // counts how many listeners are in a key across both lists\n  count: (key) => {\n    return Object.values(listeners.get(key)).length\n  },\n}\n\n// holds a map of RPC Ids => Context Key, e.g. the RPC id of an onEvent call mapped to the corresponding context parameters key for that RPC call\nconst keys = {}\n\n// holds a map of ${module}.${event} => Transport.send calls (only called once per event)\n// note that the keys here MUST NOT contain wild cards\nconst oncers = []\nconst validEvents = {}\nconst validContext = {}\n\nlet transportInitialized = false\n\nexport const emit = (id, value) => {\n  callCallbacks(listeners.internal[keys[id]], [value])\n  callCallbacks(listeners.external[keys[id]], [value])\n}\n\nexport const registerEvents = (module, events) => {\n  validEvents[module.toLowerCase()] = events.concat()\n}\n\nexport const registerEventContext = (module, event, context) => {\n  validContext[module.toLowerCase()] = validContext[module.toLowerCase()] || {}\n  validContext[module.toLowerCase()][event] = context.concat()\n}\n\nconst callCallbacks = (cbs, args) => {\n  cbs &&\n    Object.keys(cbs).forEach((listenerId) => {\n      let callback = cbs[listenerId]\n      if (oncers.indexOf(parseInt(listenerId)) >= 0) {\n        oncers.splice(oncers.indexOf(parseInt(listenerId)), 1)\n        delete cbs[listenerId]\n      }\n      callback.apply(null, args)\n    })\n}\n\nconst doListen = function (\n  module,\n  event,\n  callback,\n  context,\n  once,\n  internal = false,\n) {\n  init()\n\n  if (typeof callback !== 'function') {\n    return Promise.reject('No valid callback function provided.')\n  } else {\n    if (module === '*') {\n      return Promise.reject('No valid module name provided')\n    }\n\n    const wildcard = event === '*'\n    const events = wildcard ? validEvents[module] : [event] // explodes wildcards into an array\n    const promises = []\n    const hasContext = Object.values(context).length > 0\n    const contextKey = Object.keys(context)\n      .sort()\n      .map((key) => key + '=' + JSON.stringify(context[key]))\n      .join('&')\n\n    listenerId++\n\n    if (once) {\n      oncers.push(listenerId)\n    }\n\n    events.forEach((event) => {\n      const key = module + '.' + event + (hasContext ? `.${contextKey}` : '')\n\n      if (Object.values(listeners.get(key)).length === 0) {\n        const args = Object.assign({ listen: true }, context)\n        const { id, promise } = Transport.listen(\n          module,\n          'on' + event[0].toUpperCase() + event.substring(1),\n          args,\n        )\n        keys[id] = key\n        promises.push(promise)\n      }\n\n      const setter = internal ? listeners.setInternal : listeners.set\n\n      if (wildcard) {\n        setter(key, '' + listenerId, (value) => callback(event, value))\n      } else {\n        setter(key, '' + listenerId, callback)\n      }\n    })\n\n    let resolve, reject\n    let p = new Promise((res, rej) => {\n      resolve = res\n      reject = rej\n    })\n\n    // Iterate and resolve/reject through the list of promises sequentially\n    const templistenerId = listenerId\n    if (promises.length) {\n      promises.reduce((prevPromise, currentPromise) => {\n        return prevPromise\n          .then(() => currentPromise)\n          .then((responses) => {\n            resolve(templistenerId)\n          })\n          .catch((error) => {\n            if (event === '*') {\n              resolve(templistenerId)\n            } else {\n              // Remove the failed listener\n              doClear(templistenerId, event, context)\n              reject(error)\n            }\n          })\n      }, Promise.resolve())\n    } else {\n      resolve(listenerId)\n    }\n    return p\n  }\n}\n\nconst getListenArgs = function (...args) {\n  const callback = args.pop()\n  const [module, event, context] = getClearArgs(...args)\n\n  return [module, event, callback, context]\n}\n\nconst getClearArgs = function (...args) {\n  const module = (args.shift() || '*').toLowerCase()\n  const event = args.shift() || '*'\n  const context = {}\n\n  for (let i = 0; args.length; i++) {\n    context[validContext[module][event][i]] = args.shift()\n  }\n\n  return [module, event, context]\n}\n\nconst once = function (...args) {\n  const [module, event, callback, context] = getListenArgs(...args)\n  return doListen(module, event, callback, context, true)\n}\n\nconst listen = function (...args) {\n  const [module, event, callback, context] = getListenArgs(...args)\n  return doListen(module, event, callback, context, false)\n}\n\nconst clear = function (...args) {\n  if (args && args.length && typeof args[0] === 'number') {\n    return doClear(args[0])\n  } else if (args && args.length && typeof args[1] === 'number') {\n    return doClear(args[1])\n  } else {\n    const [moduleOrId, event, context] = getClearArgs(...args)\n    return doClear(moduleOrId, event, context)\n  }\n}\n\n// calls doListen with a priority flag for internal listeners to get priority\nexport const prioritize = function (...args) {\n  const [module, event, callback, context] = getListenArgs(...args)\n  return doListen(module, event, callback, context, false, true)\n}\n\nconst unsubscribe = (key, context) => {\n  const [module, event] = key.split('.').slice(0, 2)\n  const args = Object.assign({ listen: false }, context)\n  Transport.send(module, 'on' + event[0].toUpperCase() + event.substr(1), args)\n}\n\n// TODO: clear needs to go through Transport Layer\nconst doClear = function (moduleOrId = false, event = false, context) {\n  if (event === '*') {\n    event = false\n  }\n\n  if (typeof moduleOrId === 'number') {\n    const searchId = moduleOrId.toString()\n    const key = listeners.find(searchId)\n\n    if (key) {\n      listeners.remove(searchId)\n      if (listeners.count(key) === 0) {\n        unsubscribe(key)\n      }\n      return true\n    }\n    return false\n  } else {\n    if (!moduleOrId && !event) {\n      listeners.keys().forEach((key) => {\n        listeners.removeKey(key)\n        unsubscribe(key)\n      })\n    } else if (!event) {\n      listeners.keys().forEach((key) => {\n        if (key.indexOf(moduleOrId.toLowerCase()) === 0) {\n          listeners.removeKey(key)\n          unsubscribe(key)\n        }\n      })\n    } else {\n      const hasContext = Object.values(context).length > 0\n      const contextKey = Object.keys(context)\n        .sort()\n        .map((key) => key + '=' + JSON.stringify(context[key]))\n        .join('&')\n      const key =\n        moduleOrId + '.' + event + (hasContext ? `.${contextKey}` : '')\n\n      listeners.removeKey(key)\n      unsubscribe(key, context)\n    }\n  }\n}\n\nconst init = () => {\n  if (!transportInitialized) {\n    Transport.addEventEmitter(emit)\n    setMockListener(listen)\n    transportInitialized = true\n  }\n}\n\nexport default {\n  listen: listen,\n  once: once,\n  clear: clear,\n  broadcast(event, value) {\n    emit(Object.entries(keys).find(([k, v]) => v === 'app.' + event)[0], value)\n  },\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Transport from '../Transport/index.mjs'\nimport Events from '../Events/index.mjs'\nimport { registerEvents } from '../Events/index.mjs'\nimport Prop from '../Prop/index.mjs'\n\nregisterEvents('Accessibility', [\n  'audioDescriptionSettingsChanged',\n  'closedCaptionsSettingsChanged',\n  'highContrastUIChanged',\n  'voiceGuidanceSettingsChanged',\n])\n\nTransport.registerDeprecatedMethod(\n  'Accessibility',\n  'closedCaptions',\n  'Use Accessibility.closedCaptionsSettings() instead.',\n)\nTransport.registerDeprecatedMethod(\n  'Accessibility',\n  'voiceGuidance',\n  'Use Accessibility.voiceGuidanceSettings() instead.',\n)\n\n// onAudioDescriptionSettingsChanged is accessed via listen('audioDescriptionSettingsChanged, ...)\n\n// onClosedCaptionsSettingsChanged is accessed via listen('closedCaptionsSettingsChanged, ...)\n\n// onHighContrastUIChanged is accessed via listen('highContrastUIChanged, ...)\n\n// onVoiceGuidanceSettingsChanged is accessed via listen('voiceGuidanceSettingsChanged, ...)\n\n// Methods\nfunction audioDescriptionSettings() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Accessibility',\n    'audioDescriptionSettings',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\nfunction clear(...args) {\n  return Events.clear('Accessibility', ...args)\n}\n\nfunction closedCaptions() {\n  const transforms = null\n\n  return Transport.send('Accessibility', 'closedCaptions', {}, transforms)\n}\nfunction closedCaptionsSettings() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Accessibility',\n    'closedCaptionsSettings',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\nfunction highContrastUI() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Accessibility',\n    'highContrastUI',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\nfunction listen(...args) {\n  return Events.listen('Accessibility', ...args)\n}\n\nfunction once(...args) {\n  return Events.once('Accessibility', ...args)\n}\n\nfunction voiceGuidance() {\n  const transforms = null\n\n  return Transport.send('Accessibility', 'voiceGuidance', {}, transforms)\n}\nfunction voiceGuidanceSettings() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Accessibility',\n    'voiceGuidanceSettings',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\n\nexport default {\n  Events: {\n    CLOSED_CAPTIONS_SETTINGS_CHANGED: 'closedCaptionsSettingsChanged',\n    HIGH_CONTRAST_UICHANGED: 'highContrastUIChanged',\n    VOICE_GUIDANCE_SETTINGS_CHANGED: 'voiceGuidanceSettingsChanged',\n    AUDIO_DESCRIPTION_SETTINGS_CHANGED: 'audioDescriptionSettingsChanged',\n  },\n\n  /**\n   *\n   */\n  FontFamily: {\n    MONOSPACED_SERIF: 'monospaced_serif',\n    PROPORTIONAL_SERIF: 'proportional_serif',\n    MONOSPACED_SANSERIF: 'monospaced_sanserif',\n    PROPORTIONAL_SANSERIF: 'proportional_sanserif',\n    SMALLCAPS: 'smallcaps',\n    CURSIVE: 'cursive',\n    CASUAL: 'casual',\n  },\n\n  /**\n   *\n   */\n  FontEdge: {\n    NONE: 'none',\n    RAISED: 'raised',\n    DEPRESSED: 'depressed',\n    UNIFORM: 'uniform',\n    DROP_SHADOW_LEFT: 'drop_shadow_left',\n    DROP_SHADOW_RIGHT: 'drop_shadow_right',\n  },\n\n  audioDescriptionSettings,\n  clear,\n  closedCaptions,\n  closedCaptionsSettings,\n  highContrastUI,\n  listen,\n  once,\n  voiceGuidance,\n  voiceGuidanceSettings,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Transport from '../Transport/index.mjs'\nimport Events from '../Events/index.mjs'\nimport { registerEvents } from '../Events/index.mjs'\nimport Prop from '../Prop/index.mjs'\n\nregisterEvents('Advertising', ['policyChanged'])\n\n// onPolicyChanged is accessed via listen('policyChanged, ...)\n\n// Methods\n\nfunction advertisingId(options) {\n  const transforms = null\n\n  return Transport.send('Advertising', 'advertisingId', { options }, transforms)\n}\n\nfunction appBundleId() {\n  const transforms = null\n\n  return Transport.send('Advertising', 'appBundleId', {}, transforms)\n}\nfunction clear(...args) {\n  return Events.clear('Advertising', ...args)\n}\n\nfunction config(options) {\n  const transforms = null\n\n  return Transport.send('Advertising', 'config', { options }, transforms)\n}\n\nfunction deviceAttributes() {\n  const transforms = null\n\n  return Transport.send('Advertising', 'deviceAttributes', {}, transforms)\n}\nfunction listen(...args) {\n  return Events.listen('Advertising', ...args)\n}\n\nfunction once(...args) {\n  return Events.once('Advertising', ...args)\n}\n\nfunction policy() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Advertising',\n    'policy',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\n\nexport default {\n  Events: {\n    POLICY_CHANGED: 'policyChanged',\n  },\n\n  /**\n     * The advertisement skip restriction.\n\nApplies to fast-forward/rewind (e.g. trick mode), seeking over an entire opportunity (e.g. jump), seeking out of what's currently playing, and \"Skip this ad...\" features. Seeking over multiple ad opportunities only requires playback of the _last_ opportunity, not all opportunities, preceding the seek destination.\n\n| Value        | Description                                                                    |\n|--------------|--------------------------------------------------------------------------------|\n| none         |No fast-forward, jump, or skip restrictions                                    |\n| adsUnwatched | Restrict fast-forward, jump, and skip for unwatched ad opportunities only.     |\n| adsAll       | Restrict fast-forward, jump, and skip for all ad opportunities                 |\n| all          | Restrict fast-forward, jump, and skip for all ad opportunities and all content |\n\nNamespace: `xrn:advertising:policy:skipRestriction:`\n\n\n     */\n  SkipRestriction: {\n    NONE: 'none',\n    ADS_UNWATCHED: 'adsUnwatched',\n    ADS_ALL: 'adsAll',\n    ALL: 'all',\n  },\n\n  advertisingId,\n  appBundleId,\n  clear,\n  config,\n  deviceAttributes,\n  listen,\n  once,\n  policy,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Transport from '../Transport/index.mjs'\n\nTransport.registerDeprecatedMethod(\n  'Authentication',\n  'token',\n  'Use Authentication module has individual methods for each token type. instead.',\n)\n\n// Methods\n\nfunction device() {\n  const transforms = null\n\n  return Transport.send('Authentication', 'device', {}, transforms)\n}\n\nfunction root() {\n  const transforms = null\n\n  return Transport.send('Authentication', 'root', {}, transforms)\n}\n\nfunction session() {\n  const transforms = null\n\n  return Transport.send('Authentication', 'session', {}, transforms)\n}\n\nfunction token(type, options) {\n  const transforms = null\n\n  return Transport.send(\n    'Authentication',\n    'token',\n    { type, options },\n    transforms,\n  )\n}\n\nexport default {\n  /**\n   *\n   */\n  TokenType: {\n    PLATFORM: 'platform',\n    DEVICE: 'device',\n    DISTRIBUTOR: 'distributor',\n  },\n\n  device,\n  root,\n  session,\n  token,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Transport from '../Transport/index.mjs'\nimport Events from '../Events/index.mjs'\nimport { registerEvents } from '../Events/index.mjs'\nimport { registerEventContext } from '../Events/index.mjs'\n\nregisterEvents('Capabilities', [\n  'available',\n  'granted',\n  'revoked',\n  'unavailable',\n])\n\n// onAvailable is accessed via listen('available, ...)\n\nregisterEventContext('Capabilities', 'available', ['capability'])\n// onGranted is accessed via listen('granted, ...)\n\nregisterEventContext('Capabilities', 'granted', ['role', 'capability'])\n// onRevoked is accessed via listen('revoked, ...)\n\nregisterEventContext('Capabilities', 'revoked', ['role', 'capability'])\n// onUnavailable is accessed via listen('unavailable, ...)\n\nregisterEventContext('Capabilities', 'unavailable', ['capability'])\n\n// Methods\n\nfunction available(capability) {\n  const transforms = null\n\n  return Transport.send('Capabilities', 'available', { capability }, transforms)\n}\nfunction clear(...args) {\n  return Events.clear('Capabilities', ...args)\n}\n\nfunction granted(capability, options) {\n  const transforms = null\n\n  return Transport.send(\n    'Capabilities',\n    'granted',\n    { capability, options },\n    transforms,\n  )\n}\n\nfunction info(capabilities) {\n  const transforms = null\n\n  return Transport.send('Capabilities', 'info', { capabilities }, transforms)\n}\nfunction listen(...args) {\n  return Events.listen('Capabilities', ...args)\n}\n\nfunction once(...args) {\n  return Events.once('Capabilities', ...args)\n}\n\nfunction permitted(capability, options) {\n  const transforms = null\n\n  return Transport.send(\n    'Capabilities',\n    'permitted',\n    { capability, options },\n    transforms,\n  )\n}\n\nfunction request(grants) {\n  const transforms = null\n\n  return Transport.send('Capabilities', 'request', { grants }, transforms)\n}\n\nfunction supported(capability) {\n  const transforms = null\n\n  return Transport.send('Capabilities', 'supported', { capability }, transforms)\n}\n\nexport default {\n  Events: {\n    AVAILABLE: 'available',\n    UNAVAILABLE: 'unavailable',\n    GRANTED: 'granted',\n    REVOKED: 'revoked',\n  },\n\n  /**\n   * Role provides access level for the app for a given capability.\n   */\n  Role: {\n    USE: 'use',\n    MANAGE: 'manage',\n    PROVIDE: 'provide',\n  },\n\n  /**\n   * Reasons why a Capability might not be invokable\n   */\n  DenyReason: {\n    UNPERMITTED: 'unpermitted',\n    UNSUPPORTED: 'unsupported',\n    DISABLED: 'disabled',\n    UNAVAILABLE: 'unavailable',\n    GRANT_DENIED: 'grantDenied',\n    UNGRANTED: 'ungranted',\n  },\n\n  available,\n  clear,\n  granted,\n  info,\n  listen,\n  once,\n  permitted,\n  request,\n  supported,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Transport from '../Transport/index.mjs'\nimport Events from '../Events/index.mjs'\nimport { registerEvents } from '../Events/index.mjs'\nimport Prop from '../Prop/index.mjs'\n\nregisterEvents('Device', [\n  'audioChanged',\n  'deviceNameChanged',\n  'hdcpChanged',\n  'hdrChanged',\n  'nameChanged',\n  'networkChanged',\n  'screenResolutionChanged',\n  'videoResolutionChanged',\n])\n\nTransport.registerDeprecatedMethod(\n  'Device',\n  'screenResolution',\n  'Use Use non-Firebolt APIs specific to your platform, e.g. W3C APIs instead.',\n)\nTransport.registerDeprecatedMethod(\n  'Device',\n  'onDeviceNameChanged',\n  'Use Device.name() instead.',\n)\nTransport.registerDeprecatedMethod(\n  'Device',\n  'onScreenResolutionChanged',\n  'Use screenResolution instead.',\n)\n\nfunction version() {\n  return new Promise((resolve, reject) => {\n    Transport.send('device', 'version')\n      .then((v) => {\n        v = v || {}\n        v.sdk = v.sdk || {}\n        v.sdk.major = parseInt('1')\n        v.sdk.minor = parseInt('5')\n        v.sdk.patch = parseInt('0')\n        v.sdk.readable = 'Firebolt Core SDK 1.5.0'\n        resolve(v)\n      })\n      .catch((error) => {\n        reject(error)\n      })\n  })\n}\n\n// Methods\nfunction audio() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop('Device', 'audio', params, callbackOrValue, false, true, 0)\n}\nfunction clear(...args) {\n  return Events.clear('Device', ...args)\n}\n\nfunction distributor() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Device',\n    'distributor',\n    params,\n    callbackOrValue,\n    true,\n    true,\n    0,\n  )\n}\nfunction hdcp() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop('Device', 'hdcp', params, callbackOrValue, false, true, 0)\n}\nfunction hdr() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop('Device', 'hdr', params, callbackOrValue, false, true, 0)\n}\nfunction id() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop('Device', 'id', params, callbackOrValue, true, true, 0)\n}\nfunction listen(...args) {\n  return Events.listen('Device', ...args)\n}\n\nfunction make() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop('Device', 'make', params, callbackOrValue, true, true, 0)\n}\nfunction model() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop('Device', 'model', params, callbackOrValue, true, true, 0)\n}\nfunction name() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop('Device', 'name', params, callbackOrValue, false, true, 0)\n}\nfunction network() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop('Device', 'network', params, callbackOrValue, false, true, 0)\n}\nfunction once(...args) {\n  return Events.once('Device', ...args)\n}\n\nfunction platform() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop('Device', 'platform', params, callbackOrValue, true, true, 0)\n}\nfunction screenResolution() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Device',\n    'screenResolution',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\nfunction sku() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop('Device', 'sku', params, callbackOrValue, true, true, 0)\n}\nfunction type() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop('Device', 'type', params, callbackOrValue, true, true, 0)\n}\nfunction uid() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop('Device', 'uid', params, callbackOrValue, true, true, 0)\n}\nfunction videoResolution() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Device',\n    'videoResolution',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\n\nexport default {\n  Events: {\n    DEVICE_NAME_CHANGED: 'deviceNameChanged',\n    NAME_CHANGED: 'nameChanged',\n    HDCP_CHANGED: 'hdcpChanged',\n    HDR_CHANGED: 'hdrChanged',\n    AUDIO_CHANGED: 'audioChanged',\n    SCREEN_RESOLUTION_CHANGED: 'screenResolutionChanged',\n    VIDEO_RESOLUTION_CHANGED: 'videoResolutionChanged',\n    NETWORK_CHANGED: 'networkChanged',\n  },\n\n  /**\n   * The type of network that is currently active\n   */\n  NetworkState: {\n    CONNECTED: 'connected',\n    DISCONNECTED: 'disconnected',\n  },\n\n  /**\n   * The type of network that is currently active\n   */\n  NetworkType: {\n    WIFI: 'wifi',\n    ETHERNET: 'ethernet',\n    HYBRID: 'hybrid',\n  },\n\n  version,\n  audio,\n  clear,\n  distributor,\n  hdcp,\n  hdr,\n  id,\n  listen,\n  make,\n  model,\n  name,\n  network,\n  once,\n  platform,\n  screenResolution,\n  sku,\n  type,\n  uid,\n  videoResolution,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Transport from '../Transport/index.mjs'\nimport Events from '../Events/index.mjs'\n\nconst providerInterfaces = {}\n\nexport const registerProviderInterface = (capability, module, methods) => {\n  if (providerInterfaces[capability]) {\n    throw `Capability ${capability} has multiple provider interfaces registered.`\n  }\n\n  methods.forEach((m) => (m.name = `${module}.${m.name}`))\n  providerInterfaces[capability] = methods.concat()\n}\n\nconst provide = function (capability, provider) {\n  const methods = []\n  const iface = providerInterfaces[capability]\n\n  if (provider.constructor.name !== 'Object') {\n    methods.push(\n      ...Object.getOwnPropertyNames(Object.getPrototypeOf(provider)).filter(\n        (item) =>\n          typeof provider[item] === 'function' && item !== 'constructor',\n      ),\n    )\n  } else {\n    methods.push(\n      ...Object.getOwnPropertyNames(provider).filter(\n        (item) => typeof provider[item] === 'function',\n      ),\n    )\n  }\n\n  if (!iface) {\n    throw 'Ignoring unknown provider capability.'\n  }\n\n  // make sure every interfaced method exists in the providers methods list\n  const valid = iface.every((method) =>\n    methods.find((m) => m === method.name.split('.').pop()),\n  )\n\n  if (!valid) {\n    throw `Provider that does not fully implement ${capability}:\\n\\t${iface\n      .map((m) => m.name.split('.').pop())\n      .join('\\n\\t')}`\n  }\n\n  iface.forEach((imethod) => {\n    const parts = imethod.name.split('.')\n    const method = parts.pop()\n    const module = parts.pop().toLowerCase()\n    const defined = !!methods.find((m) => m === method)\n\n    if (!defined) {\n      return // returns from this cycle of iface.forEach\n    }\n\n    Events.listen(\n      module,\n      `request${method.charAt(0).toUpperCase() + method.substr(1)}`,\n      function (request) {\n        const providerCallArgs = []\n\n        // only pass in parameters object if schema exists\n        if (imethod.parameters) {\n          providerCallArgs.push(request.parameters)\n        } else {\n          providerCallArgs.push(null)\n        }\n\n        const session = {\n          correlationId: () => {\n            return request.correlationId\n          },\n        }\n\n        // only pass in the focus handshake if needed\n        if (imethod.focus) {\n          session.focus = () => {\n            Transport.send(module, `${method}Focus`, {\n              correlationId: request.correlationId,\n            })\n          }\n        }\n\n        providerCallArgs.push(session)\n\n        const response = {\n          correlationId: request.correlationId,\n        }\n        let handleError = (error) => {\n          response.error = {\n            code: error.code || 1000, // todo: should be some reserved code for \"Unknown\"\n            message:\n              error.message ||\n              `An error occured while calling provided ${method} method.`,\n          }\n\n          if (error.data) {\n            response.error.data = JSON.parse(JSON.stringify(error.data))\n          }\n\n          Transport.send(module, `${method}Error`, response)\n        }\n\n        try {\n          const result = provider[method].apply(provider, providerCallArgs)\n\n          if (!(result instanceof Promise)) {\n            throw `Provider method ${method} did not return a Promise.`\n          }\n\n          result\n            .then((result) => {\n              if (imethod.response) {\n                // void results should be null in the JSONRPC message\n                response.result = result == null ? null : result\n              }\n\n              Transport.send(module, `${method}Response`, response)\n            })\n            .catch((err) => handleError(err))\n        } catch (error) {\n          handleError(error)\n        }\n      },\n    )\n  })\n}\n\nexport default {\n  provide,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Transport from '../Transport/index.mjs'\nimport Events from '../Events/index.mjs'\nimport { registerEvents } from '../Events/index.mjs'\nimport ProvideManager from '../ProvideManager/index.mjs'\nimport { registerProviderInterface } from '../ProvideManager/index.mjs'\nimport Prop from '../Prop/index.mjs'\n\nregisterEvents('Discovery', ['navigateTo', 'policyChanged'])\n\nregisterProviderInterface(\n  'xrn:firebolt:capability:discovery:interest',\n  'Discovery',\n  [{ name: 'userInterest', focus: false, response: true, parameters: true }],\n)\n\nTransport.registerDeprecatedMethod(\n  'Discovery',\n  'entityInfo',\n  'Use null instead.',\n)\nTransport.registerDeprecatedMethod(\n  'Discovery',\n  'purchasedContent',\n  'Use null instead.',\n)\nTransport.registerDeprecatedMethod(\n  'Discovery',\n  'entitlements',\n  'Use Discovery.contentAccess() instead.',\n)\nTransport.registerDeprecatedMethod(\n  'Discovery',\n  'onPullEntityInfo',\n  'Use null instead.',\n)\nTransport.registerDeprecatedMethod(\n  'Discovery',\n  'onPullPurchasedContent',\n  'Use null instead.',\n)\n\n// onNavigateTo is accessed via listen('navigateTo, ...)\n\n// onPolicyChanged is accessed via listen('policyChanged, ...)\n\n// Methods\nfunction clear(...args) {\n  return Events.clear('Discovery', ...args)\n}\n\nfunction clearContentAccess() {\n  const transforms = null\n\n  return Transport.send('Discovery', 'clearContentAccess', {}, transforms)\n}\n\nfunction contentAccess(ids) {\n  const transforms = null\n\n  return Transport.send('Discovery', 'contentAccess', { ids }, transforms)\n}\n\nfunction entitlements(entitlements) {\n  const transforms = null\n\n  return Transport.send(\n    'Discovery',\n    'entitlements',\n    { entitlements },\n    transforms,\n  )\n}\n\nlet entityInfoHasCallback = false\n\nfunction entityInfo(data) {\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    if (entityInfoHasCallback) {\n      return Promise.reject('Cannot register more than one entityInfo handler.')\n    }\n\n    const callback = arguments[0]\n    entityInfoHasCallback = true\n    return Events.listen('Discovery', 'pullEntityInfo', (request) => {\n      if (typeof request === 'boolean') return\n\n      try {\n        const result = callback(request.parameters)\n          .then((result) => {\n            const params = {\n              correlationId: request.correlationId,\n              result: result,\n            }\n            Transport.send('Discovery', 'entityInfo', params).catch((error) => {\n              const msg =\n                typeof error === 'string'\n                  ? error\n                  : error.message || 'Unknown Error'\n              console.error(\n                `Failed to send entityInfo pull response through Transport Layer: ${msg}`,\n              )\n            })\n          })\n          .catch((error) => {\n            const msg =\n              typeof error === 'string'\n                ? error\n                : error.message || 'Unknown Error'\n            console.error(`App 'entityInfo' callback failed: ${msg}`)\n          })\n      } catch (error) {\n        const msg =\n          typeof error === 'string' ? error : error.message || 'Unknown Error'\n        console.error(`App 'entityInfo' callback failed: ${msg}`)\n      }\n    })\n  } else {\n    return Transport.send('Discovery', 'entityInfo', {\n      correlationId: null,\n      result: data,\n    })\n  }\n}\n\nfunction launch(appId, intent) {\n  const transforms = null\n\n  return Transport.send('Discovery', 'launch', { appId, intent }, transforms)\n}\nfunction listen(...args) {\n  return Events.listen('Discovery', ...args)\n}\n\nfunction once(...args) {\n  return Events.once('Discovery', ...args)\n}\n\nfunction policy() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Discovery',\n    'policy',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\nfunction provide(capability, provider) {\n  return ProvideManager.provide(capability, provider)\n}\n\nlet purchasedContentHasCallback = false\n\nfunction purchasedContent(data) {\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    if (purchasedContentHasCallback) {\n      return Promise.reject(\n        'Cannot register more than one purchasedContent handler.',\n      )\n    }\n\n    const callback = arguments[0]\n    purchasedContentHasCallback = true\n    return Events.listen('Discovery', 'pullPurchasedContent', (request) => {\n      if (typeof request === 'boolean') return\n\n      try {\n        const result = callback(request.parameters)\n          .then((result) => {\n            const params = {\n              correlationId: request.correlationId,\n              result: result,\n            }\n            Transport.send('Discovery', 'purchasedContent', params).catch(\n              (error) => {\n                const msg =\n                  typeof error === 'string'\n                    ? error\n                    : error.message || 'Unknown Error'\n                console.error(\n                  `Failed to send purchasedContent pull response through Transport Layer: ${msg}`,\n                )\n              },\n            )\n          })\n          .catch((error) => {\n            const msg =\n              typeof error === 'string'\n                ? error\n                : error.message || 'Unknown Error'\n            console.error(`App 'purchasedContent' callback failed: ${msg}`)\n          })\n      } catch (error) {\n        const msg =\n          typeof error === 'string' ? error : error.message || 'Unknown Error'\n        console.error(`App 'purchasedContent' callback failed: ${msg}`)\n      }\n    })\n  } else {\n    return Transport.send('Discovery', 'purchasedContent', {\n      correlationId: null,\n      result: data,\n    })\n  }\n}\n\nimport { signIn as logSignIn } from '../Metrics/index.mjs'\n\nfunction signIn(entitlements) {\n  const transforms = null\n\n  const p = Transport.send('Discovery', 'signIn', { entitlements }, transforms)\n\n  p.then((_) => {\n    setTimeout((_) => {\n      logSignIn(entitlements)\n    })\n  }).catch((error) => {\n    const msg =\n      typeof error === 'string' ? error : error.message || 'Unknown Error'\n    console.error(`Metrics 'signIn' callback failed: ${msg}`)\n  })\n\n  return p\n}\n\nimport { signOut as logSignOut } from '../Metrics/index.mjs'\n\nfunction signOut() {\n  const transforms = null\n\n  const p = Transport.send('Discovery', 'signOut', {}, transforms)\n\n  p.then((_) => {\n    setTimeout((_) => {\n      logSignOut()\n    })\n  }).catch((error) => {\n    const msg =\n      typeof error === 'string' ? error : error.message || 'Unknown Error'\n    console.error(`Metrics 'signOut' callback failed: ${msg}`)\n  })\n\n  return p\n}\n\nfunction userInterest(type, reason, entity) {\n  const transforms = null\n\n  return Transport.send(\n    'Discovery',\n    'userInterest',\n    { type, reason, entity },\n    transforms,\n  )\n}\n\nfunction watched(entityId, progress, completed, watchedOn) {\n  const transforms = null\n\n  if (arguments.length === 1 && Array.isArray(arguments[0])) {\n    return Transport.send('Discovery', 'watched', arguments[0], transforms)\n  } else {\n    return Transport.send(\n      'Discovery',\n      'watched',\n      { entityId, progress, completed, watchedOn },\n      transforms,\n    )\n  }\n}\n\nfunction watchNext(title, identifiers, expires, images) {\n  const transforms = null\n\n  return Transport.send(\n    'Discovery',\n    'watchNext',\n    { title, identifiers, expires, images },\n    transforms,\n  )\n}\n\nexport default {\n  Events: {\n    NAVIGATE_TO: 'navigateTo',\n    POLICY_CHANGED: 'policyChanged',\n    PULL_ENTITY_INFO: 'pullEntityInfo',\n    PULL_PURCHASED_CONTENT: 'pullPurchasedContent',\n  },\n\n  /**\n   *\n   */\n  InterestType: {\n    INTEREST: 'interest',\n    DISINTEREST: 'disinterest',\n  },\n\n  /**\n   *\n   */\n  InterestReason: {\n    PLAYLIST: 'playlist',\n    REACTION: 'reaction',\n    RECORDING: 'recording',\n  },\n\n  /**\n   * In the case of a program `entityType`, specifies the program type.\n   */\n  ProgramType: {\n    MOVIE: 'movie',\n    EPISODE: 'episode',\n    SEASON: 'season',\n    SERIES: 'series',\n    OTHER: 'other',\n    PREVIEW: 'preview',\n    EXTRA: 'extra',\n    CONCERT: 'concert',\n    SPORTING_EVENT: 'sportingEvent',\n    ADVERTISEMENT: 'advertisement',\n    MUSIC_VIDEO: 'musicVideo',\n    MINISODE: 'minisode',\n  },\n\n  /**\n   * In the case of a music `entityType`, specifies the type of music entity.\n   */\n  MusicType: {\n    SONG: 'song',\n    ALBUM: 'album',\n  },\n\n  /**\n   * The offering type of the WayToWatch.\n   */\n  OfferingType: {\n    FREE: 'free',\n    SUBSCRIBE: 'subscribe',\n    BUY: 'buy',\n    RENT: 'rent',\n  },\n\n  /**\n   *\n   */\n  AudioProfile: {\n    STEREO: 'stereo',\n    DOLBY_DIGITAL_5_1: 'dolbyDigital5.1',\n    DOLBY_DIGITAL_5_1_PLUS: 'dolbyDigital5.1+',\n    DOLBY_ATMOS: 'dolbyAtmos',\n  },\n\n  clear,\n  clearContentAccess,\n  contentAccess,\n  entitlements,\n  entityInfo,\n  launch,\n  listen,\n  once,\n  policy,\n  provide,\n  purchasedContent,\n  signIn,\n  signOut,\n  userInterest,\n  watched,\n  watchNext,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Transport from '../Transport/index.mjs'\nimport Events from '../Events/index.mjs'\nimport { registerEvents } from '../Events/index.mjs'\nimport { ready as logReady } from '../Metrics/index.mjs'\nimport { prioritize } from '../Events/index.mjs'\n\nregisterEvents('Lifecycle', [\n  'background',\n  'foreground',\n  'inactive',\n  'suspended',\n  'unloading',\n])\n\nexport const store = {\n  _current: 'initializing',\n  get current() {\n    return this._current\n  },\n}\n\nasync function ready() {\n  let readyRes\n  await prioritize('Lifecycle', (event, value) => {\n    store._current = event\n  })\n  readyRes = await Transport.send('lifecycle', 'ready', {})\n  setTimeout((_) => {\n    logReady()\n  })\n  return readyRes\n}\n\n// Methods\nfunction clear(...args) {\n  return Events.clear('Lifecycle', ...args)\n}\n\nfunction close(reason) {\n  const transforms = null\n\n  return Transport.send('Lifecycle', 'close', { reason }, transforms)\n}\nfunction listen(...args) {\n  return Events.listen('Lifecycle', ...args)\n}\n\nfunction once(...args) {\n  return Events.once('Lifecycle', ...args)\n}\n\nfunction state() {\n  return store.current\n}\n\nfunction finished() {\n  if (store.current === 'unloading') {\n    return Transport.send('lifecycle', 'finished')\n  } else {\n    throw 'Cannot call finished() except when in the unloading transition'\n  }\n}\n\n// public API\nexport default {\n  Events: {\n    INACTIVE: 'inactive',\n    FOREGROUND: 'foreground',\n    BACKGROUND: 'background',\n    SUSPENDED: 'suspended',\n    UNLOADING: 'unloading',\n  },\n\n  /**\n   * The application close reason\n   */\n  CloseReason: {\n    REMOTE_BUTTON: 'remoteButton',\n    USER_EXIT: 'userExit',\n    DONE: 'done',\n    ERROR: 'error',\n  },\n\n  /**\n   * The application lifecycle state\n   */\n  LifecycleState: {\n    INITIALIZING: 'initializing',\n    INACTIVE: 'inactive',\n    FOREGROUND: 'foreground',\n    BACKGROUND: 'background',\n    UNLOADING: 'unloading',\n    SUSPENDED: 'suspended',\n  },\n\n  ready,\n  state,\n  finished,\n\n  clear,\n  close,\n  listen,\n  once,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Transport from '../Transport/index.mjs'\nimport Events from '../Events/index.mjs'\nimport { registerEvents } from '../Events/index.mjs'\nimport Prop from '../Prop/index.mjs'\n\nregisterEvents('Localization', [\n  'countryCodeChanged',\n  'languageChanged',\n  'localeChanged',\n  'localityChanged',\n  'postalCodeChanged',\n  'preferredAudioLanguagesChanged',\n])\n\nTransport.registerDeprecatedMethod(\n  'Localization',\n  'language',\n  'Use Localization.locale instead.',\n)\nTransport.registerDeprecatedMethod(\n  'Localization',\n  'onLanguageChanged',\n  'Use language instead.',\n)\n\n// onCountryCodeChanged is accessed via listen('countryCodeChanged, ...)\n\n// onLanguageChanged is accessed via listen('languageChanged, ...)\n\n// onLocaleChanged is accessed via listen('localeChanged, ...)\n\n// onLocalityChanged is accessed via listen('localityChanged, ...)\n\n// onPostalCodeChanged is accessed via listen('postalCodeChanged, ...)\n\n// onPreferredAudioLanguagesChanged is accessed via listen('preferredAudioLanguagesChanged, ...)\n\n// Methods\n\nfunction additionalInfo() {\n  const transforms = null\n\n  return Transport.send('Localization', 'additionalInfo', {}, transforms)\n}\nfunction clear(...args) {\n  return Events.clear('Localization', ...args)\n}\n\nfunction countryCode() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Localization',\n    'countryCode',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\nfunction language() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Localization',\n    'language',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\n\nfunction latlon() {\n  const transforms = null\n\n  return Transport.send('Localization', 'latlon', {}, transforms)\n}\nfunction listen(...args) {\n  return Events.listen('Localization', ...args)\n}\n\nfunction locale() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Localization',\n    'locale',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\nfunction locality() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Localization',\n    'locality',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\nfunction once(...args) {\n  return Events.once('Localization', ...args)\n}\n\nfunction postalCode() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Localization',\n    'postalCode',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\nfunction preferredAudioLanguages() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'Localization',\n    'preferredAudioLanguages',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\n\nexport default {\n  Events: {\n    LOCALITY_CHANGED: 'localityChanged',\n    POSTAL_CODE_CHANGED: 'postalCodeChanged',\n    COUNTRY_CODE_CHANGED: 'countryCodeChanged',\n    LANGUAGE_CHANGED: 'languageChanged',\n    PREFERRED_AUDIO_LANGUAGES_CHANGED: 'preferredAudioLanguagesChanged',\n    LOCALE_CHANGED: 'localeChanged',\n  },\n\n  additionalInfo,\n  clear,\n  countryCode,\n  language,\n  latlon,\n  listen,\n  locale,\n  locality,\n  once,\n  postalCode,\n  preferredAudioLanguages,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Transport from '../Transport/index.mjs'\nimport Events from '../Events/index.mjs'\nimport { registerEvents } from '../Events/index.mjs'\nimport Prop from '../Prop/index.mjs'\n\nregisterEvents('SecondScreen', [\n  'closeRequest',\n  'friendlyNameChanged',\n  'launchRequest',\n])\n\n// onCloseRequest is accessed via listen('closeRequest, ...)\n\n// onFriendlyNameChanged is accessed via listen('friendlyNameChanged, ...)\n\n// onLaunchRequest is accessed via listen('launchRequest, ...)\n\n// Methods\nfunction clear(...args) {\n  return Events.clear('SecondScreen', ...args)\n}\n\nfunction device(type) {\n  const transforms = null\n\n  return Transport.send('SecondScreen', 'device', { type }, transforms)\n}\nfunction friendlyName() {\n  let callbackOrValue = arguments[0]\n  let params = {}\n\n  // x-subscriber-type: global\n  if (arguments.length === 1 && typeof arguments[0] === 'function') {\n    callbackOrValue = arguments[0]\n    params = {}\n  }\n\n  return Prop.prop(\n    'SecondScreen',\n    'friendlyName',\n    params,\n    callbackOrValue,\n    false,\n    true,\n    0,\n  )\n}\nfunction listen(...args) {\n  return Events.listen('SecondScreen', ...args)\n}\n\nfunction once(...args) {\n  return Events.once('SecondScreen', ...args)\n}\n\nfunction protocols() {\n  const transforms = null\n\n  return Transport.send('SecondScreen', 'protocols', {}, transforms)\n}\n\nexport default {\n  Events: {\n    LAUNCH_REQUEST: 'launchRequest',\n    CLOSE_REQUEST: 'closeRequest',\n    FRIENDLY_NAME_CHANGED: 'friendlyNameChanged',\n  },\n\n  clear,\n  device,\n  friendlyName,\n  listen,\n  once,\n  protocols,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { setMockResponses } from './Transport/MockTransport.mjs'\n\nimport { default as _Accessibility } from './Accessibility/defaults.mjs'\nimport { default as _Account } from './Account/defaults.mjs'\nimport { default as _Advertising } from './Advertising/defaults.mjs'\nimport { default as _Authentication } from './Authentication/defaults.mjs'\nimport { default as _Capabilities } from './Capabilities/defaults.mjs'\nimport { default as _Device } from './Device/defaults.mjs'\nimport { default as _Discovery } from './Discovery/defaults.mjs'\nimport { default as _Keyboard } from './Keyboard/defaults.mjs'\nimport { default as _Lifecycle } from './Lifecycle/defaults.mjs'\nimport { default as _Localization } from './Localization/defaults.mjs'\nimport { default as _Metrics } from './Metrics/defaults.mjs'\nimport { default as _Parameters } from './Parameters/defaults.mjs'\nimport { default as _Profile } from './Profile/defaults.mjs'\nimport { default as _SecondScreen } from './SecondScreen/defaults.mjs'\nimport { default as _SecureStorage } from './SecureStorage/defaults.mjs'\nimport { default as _Platform } from './Platform/defaults.mjs'\n\nsetMockResponses({\n  Accessibility: _Accessibility,\n  Account: _Account,\n  Advertising: _Advertising,\n  Authentication: _Authentication,\n  Capabilities: _Capabilities,\n  Device: _Device,\n  Discovery: _Discovery,\n  Keyboard: _Keyboard,\n  Lifecycle: _Lifecycle,\n  Localization: _Localization,\n  Metrics: _Metrics,\n  Parameters: _Parameters,\n  Profile: _Profile,\n  SecondScreen: _SecondScreen,\n  SecureStorage: _SecureStorage,\n  Platform: _Platform,\n})\n\nexport { default as Accessibility } from './Accessibility/index.mjs'\nexport { default as Account } from './Account/index.mjs'\nexport { default as Advertising } from './Advertising/index.mjs'\nexport { default as Authentication } from './Authentication/index.mjs'\nexport { default as Capabilities } from './Capabilities/index.mjs'\nexport { default as Device } from './Device/index.mjs'\nexport { default as Discovery } from './Discovery/index.mjs'\nexport { default as Keyboard } from './Keyboard/index.mjs'\nexport { default as Lifecycle } from './Lifecycle/index.mjs'\nexport { default as Localization } from './Localization/index.mjs'\nexport { default as Metrics } from './Metrics/index.mjs'\nexport { default as Parameters } from './Parameters/index.mjs'\nexport { default as Profile } from './Profile/index.mjs'\nexport { default as SecondScreen } from './SecondScreen/index.mjs'\nexport { default as SecureStorage } from './SecureStorage/index.mjs'\nexport { default as Platform } from './Platform/index.mjs'\nexport { default as Log } from './Log/index.mjs'\nexport { default as Events } from './Events/index.mjs'\nexport { default as Settings } from './Settings/index.mjs'\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  token: {\n    value:\n      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c',\n    expires: '2022-04-23T18:25:43.511Z',\n    type: 'platform',\n  },\n  device:\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c',\n  session:\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c',\n  root: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c',\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  supported: true,\n  available: true,\n  permitted: true,\n  granted: true,\n  info: [\n    {\n      capability: 'xrn:firebolt:capability:device:model',\n      supported: true,\n      available: true,\n      use: { permitted: true, granted: true },\n      manage: { permitted: true, granted: true },\n      provide: { permitted: true, granted: true },\n    },\n    {\n      capability: 'xrn:firebolt:capability:input:keyboard',\n      supported: true,\n      available: true,\n      use: { permitted: true, granted: true },\n      manage: { permitted: true, granted: true },\n      provide: { permitted: true, granted: true },\n    },\n    {\n      capability: 'xrn:firebolt:capability:protocol:bluetoothle',\n      supported: false,\n      available: false,\n      use: { permitted: true, granted: true },\n      manage: { permitted: true, granted: true },\n      provide: { permitted: true, granted: true },\n      details: ['unsupported'],\n    },\n    {\n      capability: 'xrn:firebolt:capability:token:device',\n      supported: true,\n      available: true,\n      use: { permitted: true, granted: true },\n      manage: { permitted: true, granted: true },\n      provide: { permitted: true, granted: true },\n    },\n    {\n      capability: 'xrn:firebolt:capability:token:platform',\n      supported: true,\n      available: false,\n      use: { permitted: true, granted: true },\n      manage: { permitted: true, granted: true },\n      provide: { permitted: true, granted: true },\n      details: ['unavailable'],\n    },\n    {\n      capability: 'xrn:firebolt:capability:protocol:moca',\n      supported: true,\n      available: false,\n      use: { permitted: true, granted: true },\n      manage: { permitted: true, granted: true },\n      provide: { permitted: true, granted: true },\n      details: ['disabled', 'unavailable'],\n    },\n    {\n      capability: 'xrn:firebolt:capability:wifi:scan',\n      supported: true,\n      available: true,\n      use: { permitted: true, granted: true },\n      manage: { permitted: true, granted: true },\n      provide: { permitted: true, granted: true },\n      details: ['unpermitted'],\n    },\n    {\n      capability: 'xrn:firebolt:capability:localization:postal-code',\n      supported: true,\n      available: true,\n      use: { permitted: true, granted: null },\n      manage: { permitted: true, granted: true },\n      provide: { permitted: true, granted: true },\n      details: ['ungranted'],\n    },\n    {\n      capability: 'xrn:firebolt:capability:localization:postal-code',\n      supported: true,\n      available: true,\n      use: { permitted: true, granted: true },\n      manage: { permitted: true, granted: true },\n      provide: { permitted: true, granted: true },\n      details: ['ungranted'],\n    },\n    {\n      capability: 'xrn:firebolt:capability:localization:locality',\n      supported: true,\n      available: true,\n      use: { permitted: true, granted: true },\n      manage: { permitted: true, granted: true },\n      provide: { permitted: true, granted: true },\n      details: ['grantDenied', 'ungranted'],\n    },\n  ],\n  request: [\n    {\n      capability: 'xrn:firebolt:capability:commerce:purchase',\n      supported: true,\n      available: true,\n      use: { permitted: true, granted: true },\n      manage: { permitted: true, granted: true },\n      provide: { permitted: true, granted: true },\n    },\n  ],\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  email: 'user@domain.com',\n  password: 'abc123',\n  standard: 'Living Room',\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  ready: true,\n  signIn: true,\n  signOut: true,\n  startContent: true,\n  stopContent: true,\n  page: true,\n  action: true,\n  error: true,\n  mediaLoadStart: true,\n  mediaPlay: true,\n  mediaPlaying: true,\n  mediaPause: true,\n  mediaWaiting: true,\n  mediaProgress: true,\n  mediaSeeking: true,\n  mediaSeeked: true,\n  mediaRateChange: true,\n  mediaRenditionChange: true,\n  mediaEnded: true,\n  appInfo: null,\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  initialization: {\n    lmt: 0,\n    us_privacy: '1-Y-',\n    discovery: {\n      navigateTo: {\n        action: 'entity',\n        data: { entityId: 'abc', entityType: 'program', programType: 'movie' },\n        context: { source: 'voice' },\n      },\n    },\n  },\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  approveContentRating: false,\n  approvePurchase: false,\n  flags: { userExperience: '1000' },\n}\n","/*\n * Copyright 2021 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport MockProps from '../Prop/MockProps.mjs'\n\nexport default {\n  get: 'VGhpcyBub3QgYSByZWFsIHRva2VuLgo=',\n  set: null,\n  remove: null,\n  clear: null,\n}\n","import { Discovery } from '@firebolt-js/sdk'; // Replace with actual path to Discovery library\n\nfunction firebolt_discovery() {\n  console.log(\"Firebolt Deeplink fired\");\n  Discovery.launch(\"xre:///guide/x2/settings/audio/bluetooth.xml\",\n    {\n      action: 'deeplink',\n      context: { source: 'device' }\n    })\n    .then(() => {\n      console.log('Firebolt deeplink launched successfully');\n    }).catch(e => {\n      console.error('Error launching Firebolt deeplink:', e);}\n    )\n}\n\nfunction badger_deeplink() {\n  console.log(\"Badger Deeplink fired\");\n  alert(\"Hello from Badger Deeplink!\");\n}\nexport { firebolt_discovery, badger_deeplink };\n\n// Expose functions globally for inline onclick handlers\nif (typeof window !== 'undefined') {\n  window.firebolt_discovery = firebolt_discovery;\n  window.badger_deeplink = badger_deeplink;\n}"],"names":["win","window","listener","mock","pending","eventMap","callback","testHarness","handle","json","result","method","params","api","obj","key","keys","split","ref","i","length","Object","entries","find","k","v","toLowerCase","dotGrab","match","event","listening","getResult","error","setTimeout","JSON","stringify","jsonrpc","code","message","id","module","value","parseInt","__firebolt","send","console","debug","parse","Array","isArray","forEach","j","onSend","listen","substr","push","receive","_callback","initialize","emit","args","callbackOrValue","contextParameterCount","numArgs","values","undefined","mocks","def","type","hash","filter","map","join","hasOwnProperty","closedCaptions","enabled","styles","fontFamily","fontSize","fontColor","fontEdge","fontEdgeColor","fontOpacity","backgroundColor","backgroundOpacity","textAlign","textAlignVertical","windowColor","windowOpacity","preferredLanguages","closedCaptionsSettings","MockProps","highContrastUI","voiceGuidance","navigationHints","rate","voiceGuidanceSettings","audioDescriptionSettings","uid","config","adServerUrl","adServerUrlTemplate","adNetworkId","adProfileId","adSiteSectionId","adOptOut","privacyData","ifaValue","ifa","appName","appBundleId","distributorAppId","deviceAdAttributes","coppa","authenticationEntity","policy","skipRestriction","limitAdTracking","advertisingId","ifa_type","lmt","deviceAttributes","distributor","platform","model","sku","make","version","sdk","major","minor","patch","readable","firmware","os","hdcp","hdr","hdr10","hdr10Plus","dolbyVision","hlg","audio","stereo","dolbyAtmos","screenResolution","videoResolution","name","network","state","enableRecommendations","shareWatchHistory","rememberWatchedPrograms","entityInfo","purchasedContent","watched","watchNext","entitlements","contentAccess","clearContentAccess","launch","signIn","signOut","userInterest","userInterestResponse","userInterestError","inactive","previous","foreground","unloading","MockTransport","automation","ready","close","reason","includes","finished","location","href","locality","postalCode","countryCode","language","preferredAudioLanguages","locale","latlon","additionalInfo","protocols","device","friendlyName","localization","accessibility","Queue","constructor","this","_queue","flush","transport","item","settings","subscribers","get","fallback","val","has","set","subscriber","publish","subscribe","unsubscribe","index","findIndex","cb","splice","clearSubscribers","getOwnPropertyNames","setLogLevel","logLevel","getLogLevel","LegacyTransport","bridge","msg","JSMessageChanged","$badger","badgerCallback","bind","badgerEvent","pid","success","handlerId","isLegacy","isXREProxy","proxyObjectTest","WebsocketTransport","endpoint","_endpoint","_ws","_connected","_callbacks","_connect","_notifyCallbacks","WebSocket","addEventListener","data","transforms","methods","transformed","method_info","rpc_method","Transport","moduleInstance","_promises","_transport","_id","_eventEmitters","_eventIds","_deprecated","isMock","addEventEmitter","emitter","registerDeprecatedMethod","alternative","constructTransportLayer","startsWith","receiveHandler","ServiceManager","getServiceForJavaScript","service","setTransportLayer","tl","_send","_sendAndGetId","promise","_batch","_processRequest","Settings","requests","results","_addPromiseToQueue","_createRequestJSON","Promise","resolve","reject","deprecated","warn","init","p","x","Results","appSettings","platformSettings","log","mockTransportLayer","getTransportLayer","validEvents","validContext","registerEvents","events","concat","registerEventContext","context","providerInterfaces","capability","m","registerProviderInterface","focus","response","parameters","appId","intent","Accessibility","Account","Advertising","Authentication","token","expires","session","root","Capabilities","supported","available","permitted","granted","info","use","manage","provide","details","request","Device","Discovery","Keyboard","email","password","standard","Lifecycle","Localization","Metrics","startContent","stopContent","page","action","mediaLoadStart","mediaPlay","mediaPlaying","mediaPause","mediaWaiting","mediaProgress","mediaSeeking","mediaSeeked","mediaRateChange","mediaRenditionChange","mediaEnded","appInfo","Parameters","initialization","us_privacy","discovery","navigateTo","entityId","entityType","programType","source","Profile","approveContentRating","approvePurchase","flags","userExperience","SecondScreen","SecureStorage","remove","clear","Platform","firebolt_discovery","then","catch","e","badger_deeplink","alert"],"ignoreList":[],"sourceRoot":""}